!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).hljUtils={})}(this,function(e){function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var n=t(function(e,t){e.exports=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var u="";for(var a in i)i[a]&&(u+="; "+a,!0!==i[a]&&(u+="="+i[a].split(";")[0]));return document.cookie=t+"="+n+u}}function s(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var u=i[s].split("="),a=u.slice(1).join("=");n||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var c=t(u[0]);if(a=(r.read||r)(a,c)||t(a),n)try{a=JSON.parse(a)}catch(e){}if(o[c]=a,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}(function(){})}()});n.clear=function(){const e=n.get();for(let t in e)n.remove(t)};const r=n.set,o=n.get,i=n.remove,s=n.clear;var u=t(function(e,t){e.exports=function(){var e="millisecond",t="second",n="minute",r="hour",o="day",i="week",s="month",u="quarter",a="year",c="date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,f=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},l=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},p={s:l,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+l(r,2,"0")+":"+l(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,s),i=n-o<0,u=t.clone().add(r+(i?-1:1),s);return+(-(r+(n-o)/(i?o-u:u-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(d){return{M:s,y:a,w:i,d:o,D:c,h:r,m:n,s:t,ms:e,Q:u}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",m={};m[y]=h;var g=function(e){return e instanceof v},w=function(e,t,n){var r;if(!e)return y;if("string"==typeof e)m[e]&&(r=e),t&&(m[e]=t,r=e);else{var o=e.name;m[o]=e,r=o}return!n&&r&&(y=r),r||!n&&y},$=function(e,t){if(g(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new v(n)},b=p;b.l=w,b.i=g,b.w=function(e,t){return $(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var v=function(){function h(e){this.$L=this.$L||w(e.locale,null,!0),this.parse(e)}var l=h.prototype;return l.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(b.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(d);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},l.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},l.$utils=function(){return b},l.isValid=function(){return!("Invalid Date"===this.$d.toString())},l.isSame=function(e,t){var n=$(e);return this.startOf(t)<=n&&n<=this.endOf(t)},l.isAfter=function(e,t){return $(e)<this.startOf(t)},l.isBefore=function(e,t){return this.endOf(t)<$(e)},l.$g=function(e,t,n){return b.u(e)?this[t]:this.set(n,e)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(e,u){var d=this,f=!!b.u(u)||u,h=b.p(e),l=function(e,t){var n=b.w(d.$u?Date.UTC(d.$y,t,e):new Date(d.$y,t,e),d);return f?n:n.endOf(o)},p=function(e,t){return b.w(d.toDate()[e].apply(d.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(t)),d)},y=this.$W,m=this.$M,g=this.$D,w="set"+(this.$u?"UTC":"");switch(h){case a:return f?l(1,0):l(31,11);case s:return f?l(1,m):l(0,m+1);case i:var $=this.$locale().weekStart||0,v=(y<$?y+7:y)-$;return l(f?g-v:g+(6-v),m);case o:case c:return p(w+"Hours",0);case r:return p(w+"Minutes",1);case n:return p(w+"Seconds",2);case t:return p(w+"Milliseconds",3);default:return this.clone()}},l.endOf=function(e){return this.startOf(e,!1)},l.$set=function(i,u){var d,f=b.p(i),h="set"+(this.$u?"UTC":""),l=(d={},d[o]=h+"Date",d[c]=h+"Date",d[s]=h+"Month",d[a]=h+"FullYear",d[r]=h+"Hours",d[n]=h+"Minutes",d[t]=h+"Seconds",d[e]=h+"Milliseconds",d)[f],p=f===o?this.$D+(u-this.$W):u;if(f===s||f===a){var y=this.clone().set(c,1);y.$d[l](p),y.init(),this.$d=y.set(c,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l](p);return this.init(),this},l.set=function(e,t){return this.clone().$set(e,t)},l.get=function(e){return this[b.p(e)]()},l.add=function(e,u){var c,d=this;e=Number(e);var f=b.p(u),h=function(t){var n=$(d);return b.w(n.date(n.date()+Math.round(t*e)),d)};if(f===s)return this.set(s,this.$M+e);if(f===a)return this.set(a,this.$y+e);if(f===o)return h(1);if(f===i)return h(7);var l=(c={},c[n]=6e4,c[r]=36e5,c[t]=1e3,c)[f]||1,p=this.$d.getTime()+e*l;return b.w(p,this)},l.subtract=function(e,t){return this.add(-1*e,t)},l.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var n=e||"YYYY-MM-DDTHH:mm:ssZ",r=b.z(this),o=this.$locale(),i=this.$H,s=this.$m,u=this.$M,a=o.weekdays,c=o.months,d=function(e,r,o,i){return e&&(e[r]||e(t,n))||o[r].substr(0,i)},h=function(e){return b.s(i%12||12,e,"0")},l=o.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:b.s(u+1,2,"0"),MMM:d(o.monthsShort,u,c,3),MMMM:d(c,u),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:d(o.weekdaysMin,this.$W,a,2),ddd:d(o.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(i),HH:b.s(i,2,"0"),h:h(1),hh:h(2),a:l(i,s,!0),A:l(i,s,!1),m:String(s),mm:b.s(s,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:r};return n.replace(f,function(e,t){return t||p[e]||r.replace(":","")})},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(e,c,d){var f,h=b.p(c),l=$(e),p=6e4*(l.utcOffset()-this.utcOffset()),y=this-l,m=b.m(this,l);return m=(f={},f[a]=m/12,f[s]=m,f[u]=m/3,f[i]=(y-p)/6048e5,f[o]=(y-p)/864e5,f[r]=y/36e5,f[n]=y/6e4,f[t]=y/1e3,f)[h]||y,d?m:b.a(m)},l.daysInMonth=function(){return this.endOf(s).$D},l.$locale=function(){return m[this.$L]},l.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=w(e,t,!0);return r&&(n.$L=r),n},l.clone=function(){return b.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},h}(),S=v.prototype;return $.prototype=S,[["$ms",e],["$s",t],["$m",n],["$H",r],["$W",o],["$M",s],["$y",a],["$D",c]].forEach(function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),$.extend=function(e,t){return e(t,v,$),$},$.locale=w,$.isDayjs=g,$.unix=function(e){return $(1e3*e)},$.en=m[y],$.Ls=m,$}()});const a=(e,t,n)=>n&&"past"!==n?[u(),u().add(e,t)]:[u().subtract(e,t),u()];function c(e,t,n){"object"==typeof n.value&&(n.value=d(n.value)),n.enumerable&&!n.get&&!n.set&&n.configurable&&n.writable&&"__proto__"!==t?e[t]=n.value:Object.defineProperty(e,t,n)}function d(e){if("object"!=typeof e)return e;var t,n,r,o=0,i=Object.prototype.toString.call(e);if("[object Object]"===i?r=Object.create(e.__proto__||null):"[object Array]"===i?r=Array(e.length):"[object Set]"===i?(r=new Set,e.forEach(function(e){r.add(d(e))})):"[object Map]"===i?(r=new Map,e.forEach(function(e,t){r.set(d(t),d(e))})):"[object Date]"===i?r=new Date(+e):"[object RegExp]"===i?r=new RegExp(e.source,e.flags):"[object DataView]"===i?r=new e.constructor(d(e.buffer)):"[object ArrayBuffer]"===i?r=e.slice(0):"Array]"===i.slice(-6)&&(r=new e.constructor(e)),r){for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)c(r,n[o],Object.getOwnPropertyDescriptor(e,n[o]));for(o=0,n=Object.getOwnPropertyNames(e);o<n.length;o++)Object.hasOwnProperty.call(r,t=n[o])&&r[t]===e[t]||c(r,t,Object.getOwnPropertyDescriptor(e,t))}return r||e}const f=(e={})=>Object.keys(e).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t])).join("&");let h={method:"GET",body:{},headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8"},credentials:"include",dataType:"hlj",bodyType:"json",codeKey:"",ignore:[null,void 0,""],onError:!1,expect:{},transformUrl:!1,beforeRequest:!1};const l=function(e,t){try{t=Object.assign({},d(h),t||{});const{dataType:n,bodyType:r,codeKey:o,ignore:i,expect:s,onError:u,onSuccess:a,transformUrl:c,beforeRequest:l,transformRequest:p}=t,y=((e,t)=>{const n=Object.assign({},e);return["dataType","bodyType","codeKey","ignore","expect","onError","onSuccess","transformUrl","beforeRequest","transformRequest"].forEach(e=>{delete n[e]}),n})(t);let{method:m,body:g={}}=y;p&&(g=p({...g}),y.body=p({...g})),Object.keys(g).forEach(e=>{i.indexOf(g[e])>-1&&delete g[e]});const w=m.toLowerCase();if("get"!==w&&"delete"!==w||(e=((e,t)=>{const n=f(t);return n&&(e=-1===e.indexOf("?")?`${e}?${n}`:`${e}&${n}`),e})(e,g),delete y.body),"form"===r)y.body=f(y.body),y.headers["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8";else if("file"===r){const e=new FormData;Object.keys(g).forEach(t=>{e.append(t,g[t])}),y.body=e,delete y.headers["Content-Type"]}else y.body&&(y.body=JSON.stringify(y.body));return c&&!(e=c(e,y))?Promise.resolve():Promise.resolve(function(t,r){try{var i=Promise.resolve(fetch(e,{...y,headers:l?l(e,y.headers):y.headers})).then(function(e){return"hlj"===n?Promise.resolve(e.json()).then(function({data:e,status:t}){const n=t.msg,r=t.msgSuccess,i=o||(t.hasOwnProperty("RetCode")?"RetCode":t.hasOwnProperty("retCode")?"retCode":"code"),c=+t[i];return 0!==c?"function"==typeof u&&u(c,n):"function"==typeof a&&a(c,r),null==e&&(e=s),{data:e,msg:n,msgSuccess:r,success:0===c,RetCode:c}}):e[n]()})}catch(e){return r(e)}return i&&i.then?i.then(void 0,r):i}(0,function(e){return{error:e,data:s,msg:"请求失败啦",msgSuccess:"",success:!1,RetCode:4444}}))}catch(e){return Promise.reject(e)}},p=Object.assign(l,{get:function(e,t){try{return l(e,{...t,method:"GET"})}catch(e){return Promise.reject(e)}},post:function(e,t){try{return l(e,{...t,method:"POST"})}catch(e){return Promise.reject(e)}},put:function(e,t){try{return l(e,{...t,method:"PUT"})}catch(e){return Promise.reject(e)}},delete:function(e,t){try{return l(e,{...t,method:"DELETE"})}catch(e){return Promise.reject(e)}}}),y=(e,t)=>function(n){try{return Promise.resolve(p(e,{...t,body:n}))}catch(e){return Promise.reject(e)}};Object.assign(y,{get:(e,t)=>y(e,{...t,method:"GET"}),post:(e,t)=>y(e,{...t,method:"POST"}),put:(e,t)=>y(e,{...t,method:"PUT"}),delete:(e,t)=>y(e,{...t,method:"DELETE"})});let m=(e,t)=>()=>{let n="",r=t;for(;r--;)n+=e[Math.random()*e.length|0];return n};const g=e=>{if(!e)return"";let t=e.headers["x-forwarded-for"]||e.headers["x-real-ip"]||e.connection.remoteAddress||e.socket.remoteAddress||e.connection.socket.remoteAddress||"";return t?t.match(/\d+\.\d+\.\d+\.\d+/)[0]:t},w=e=>e.test(window.navigator.userAgent),$=()=>w(/weddingUser/i)||w(/weddingMerchant/i)||w(/CardMaster/i);e.addImageView=(e="",t,n,r=2)=>e?((t||n)&&((e=e.split("?imageView2")[0]).indexOf("imageMogr2")>-1||e.indexOf("vframe")>-1?e+="|":e+="?",e+="imageView2/"+r),t&&(e+="/w/"+parseInt(t)),n&&(e+="/h/"+parseInt(n)),e):"",e.appendUrlQuery=(e,t,n=["",null,void 0])=>{const r=Object.keys(t);if(r.length>0){let o=r.reduce((e,r)=>{if(n.every(e=>t[r]!==e)){const n=encodeURIComponent(r)+"="+encodeURIComponent(t[r]);e.push(n)}return e},[]).join("&");e+=(-1===e.indexOf("?")?"?":"&")+o}return e},e.clearCookie=s,e.countStrToBit=e=>{if("string"!=typeof e)throw new Error("请传入一个string类型的值");let t=0;return e.split("").forEach(e=>{t+=Math.ceil(e.charCodeAt().toString(2).length/8)}),t},e.dGet=(e,t,n,r)=>{for(r=0,t=t.split?t.split("."):t;e&&r<t.length;)e=e[t[r++]];return void 0===e||r<t.length?n:e},e.decrypt=e=>window.atob(window.decodeURIComponent(e)),e.encrypt=e=>window.encodeURIComponent(window.btoa(e)),e.futureOneMonth=()=>a(1,"month","future"),e.futureSevenDays=()=>a(7,"day","future"),e.futureThirtyDays=()=>a(30,"day","future"),e.getCityInfoByIp=function(e){try{const t=e?{ip:g(e)}:{};return Promise.resolve(p("https://phpapi.hunliji.com/hps/home/user/index/ipAddress",{body:t,codeKey:"retCode"}))}catch(e){return Promise.reject(e)}},e.getCookie=o,e.getDateRange=a,e.getDeviceKind=()=>w(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)?w(/ip(hone|od|ad)/i)?$()?"iOS_app_h5":"iOS_web":w(/Android/i)?$()?"android_app_h5":"android_web":"other":"web",e.getIp=g,e.getRequestSerialNo=(e="web",t=20,n=4)=>{const r=m("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t),o=m("1234567890",n);return`${e}-${r()}${o()}`},e.getUrlParam=(e,t=window.location.href)=>{const n=new RegExp(e+"=([^&]*)").exec(t.substring(1));if(n)return decodeURIComponent(n[1])},e.markString=(e,t=4,n=3,r="*")=>{if("string"!=typeof e&&"number"!=typeof e)throw new Error("the input should be a string or a number");const o=(e=String(e)).length;if(o<n+1)return e;const i=n+t-o,s=e.slice(0,n);return o>n&&i>=0?s+r.repeat(o-n):s+r.repeat(t)+e.slice(i)},e.omit=(e,t)=>{const n=Object.assign({},e);for(let e=t.length-1;e>-1;e--)delete n[t[e]];return n},e.pastOneMonth=()=>a(1,"month"),e.pastSevenDays=()=>a(7,"day"),e.pastThirtyDays=()=>a(30,"day"),e.removeCookie=i,e.setCookie=r,e.splitStrToChunks=(e,t=3)=>{if("string"!=typeof e&&"number"!=typeof e)return e;let n="";if((e=String(e)).indexOf(".")>-1){const t=e.split(".");e=t[0],n=t[1]}const r=new RegExp(`.{1,${t}}(?=(.{${t}})*$)`,"g"),o=e.match(r).toString();return n?o+"."+n:o}});
