
(function(){var cn=cn||{};cn.hash={};cn.g=function(id){if(typeof id=="string"||id instanceof String){return document.getElementById(id);}else if(id&&id.nodeName&&(id.nodeType==1||id.nodeType==9)){return id;}
return null;};cn.getElementsByClassName=function(className,tag,parent){parent=parent||document;tag=tag||"*";var allTags=(tag==="*"&&parent.all)?parent.all:parent.getElementsByTagName(tag);var classElems=[];className=className.replace(/\-/g,"\\-");var regex=new RegExp("(^|\\s)"+className+"(\\s|$)");var elenemt;for(var i=0;i<allTags.length;i++){elem=allTags[i];if(regex.test(elem.className)){classElems.push(elem);}}
return classElems;};cn.toRgb=function(str){if(str=="transparent"){return[255,255,255];};if(str.indexOf("#")!=-1){var ma=/(\w{1,2})(\w{1,2})(\w{1,2})/i.exec(str);if(str.length<5){ma[1]+=ma[1];ma[2]+=ma[2];ma[3]+=ma[3];};return[parseInt(ma[1],16),parseInt(ma[2],16),parseInt(ma[3],16)];}else{var re=str.replace(/rgb\(|\)|\ /g,'').split(',');return[Number(re[0]),Number(re[1]),Number(re[2])];}};cn.hex=function(v){var v=Math.round(v).toString(16);return(v.length==1)?("0"+v):v;};if(/msie (\d+\.\d)/i.test(navigator.userAgent)){cn.ie=document.documentMode||+RegExp['\x241'];}
if(/firefox\/(\d+\.\d)/i.test(navigator.userAgent)){cn.firefox=+RegExp['\x241'];}
if(/chrome\/(\d+\.\d)/i.test(navigator.userAgent)){cn.chrome=+RegExp['\x241'];}
if(/opera\/(\d+\.\d)/i.test(navigator.userAgent)){cn.opera=+RegExp['\x241'];}
(function(){var ua=navigator.userAgent;if(/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(ua)&&!/chrome/i.test(ua)){cn.safari=+(RegExp['\x241']||RegExp['\x242']);}})();cn.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent);cn.isStrict=document.compatMode=="CSS1Compat";cn.isWebkit=/webkit/i.test(navigator.userAgent);cn.isString=function(source){return Object.prototype.toString.call(source)==='[object String]';};cn.isNumber=function(source){return Object.prototype.toString.call(source)==='[object Number]'&&isFinite(source);};cn.isArray=function(source){return Object.prototype.toString.call(source)==='[object Array]';};cn.isObject=function(source){return typeof source=='function'||!!(source&&typeof source=='object');};cn.isElement=function(source){return!!(source&&source.nodeName&&source.nodeType==1);};cn.trim=function(source){var re=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\x24)","g");return String(source).replace(re,"");};cn.delHtmlTag=function(source){return source.replace(/<[^>]+>/g,"");};cn.each=function(object,callback){var i=0;for(var value=object[0];i<object.length&&callback.call(value,i,value)!==false;value=object[++i]){}
return object;};cn.setStyle=function(elem,prop){for(var k in prop){elem.style[k]=prop[k];};return elem;};cn.getStyle=function(elem,key){var value=elem.style[key];if(!value){var style=elem.currentStyle||(cn.ie?elem.style:getComputedStyle(elem,null));value=style[key];}
return value;};cn.show=function(elem,fn){cn.setStyle(elem,{display:"block"});return elem;};cn.hide=function(elem,fn){cn.setStyle(elem,{display:"none"});return elem;};cn.addClass=function(elem,className){var classArray=className.split(/\s+/);var result=elem.className;var classMatch=" "+result+" ";var i=0,l=classArray.length;for(;i<l;i++){if(classMatch.indexOf(" "+classArray[i]+" ")<0){result+=' '+classArray[i];}}
elem.className=result;return elem;};cn.removeClass=function(elem,className){var classArray=className.split(/\s+/);var result=elem.className;var classMatch=" "+result+" ";var i=0,l=classArray.length;for(;i<l;i++){var re=new RegExp(classArray[i],"g");if(classMatch.indexOf(" "+classArray[i]+" ")>=0){result=cn.trim(result.replace(re,""));}}
elem.className=result;return elem;};cn.getEvent=function(event){var ev=event||window.event;if(!ev){var c=this.getEvent.caller;while(c){ev=c.arguments[0];if(ev&&(Event==ev.constructor||MouseEvent==ev.constructor)){break;}
c=c.caller;}}
return ev;};cn.getTarget=function(event){var e=cn.getEvent();return e.target||e.srcElement;};cn.getX=function(){var e=cn.getEvent();var _left=document.documentElement.scrollLeft||document.body.scrollLeft;return e.pageX||e.clientX+_left;};cn.getY=function(){var e=cn.getEvent();var _top=document.documentElement.scrollTop||document.body.scrollTop;return e.pageY||e.clientY+_top;};cn.pageX=function(elem){return elem.offsetParent?(elem.offsetLeft+cn.pageX(elem.offsetParent)):elem.offsetLeft;};cn.pageY=function(elem){return elem.offsetParent?(elem.offsetTop+cn.pageY(elem.offsetParent)):elem.offsetTop;};cn.on=function(elem,type,listener){type=type.replace(/^on/i,'').toLowerCase();var realListener=listener;if(elem.addEventListener){elem.addEventListener(type,realListener,false);}else if(elem.attachEvent){elem.attachEvent('on'+type,realListener);}
return elem;};cn.addEvent=cn.on;cn.preventDefault=function(event){if(event.preventDefault){event.preventDefault();}else{event.returnValue=false;}};cn.un=function(elem,type,listener){type=type.replace(/^on/i,'').toLowerCase();var realListener=listener;if(elem.removeEventListener){elem.removeEventListener(type,realListener,false);}else if(elem.detachEvent){elem.detachEvent('on'+type,realListener);}
return elem;};cn.removeEvent=cn.un;cn.getPageHeight=function(){var de=document.documentElement;return document.body.scrollHeight||(de&&de.scrollHeight);};cn.getPageWidth=function(){var de=document.documentElement;return document.body.scrollWidth||(de&&de.scrollWidth);};cn.windowHeight=function(){var de=document.documentElement;return self.innerHeight||(de&&de.offsetHeight)||document.body.offsetHeight;};cn.windowWidth=function(){var de=document.documentElement;return self.innerWidth||(de&&de.offsetWidth)||document.body.offsetWidth;};cn.getPageTop=function(){var de=document.documentElement;return document.body.scrollTop||(de&&de.scrollTop);};cn.getPageLeft=function(){var de=document.documentElement;return document.body.scrollLeft||(de&&de.scrollLeft);};cn.createScript=function(url,data,callback,scriptCharset){var head,script;if(data){url+='?'+encodeURI(data);};if(!cn.hash.createScript){cn.hash.createScript={}};if(cn.hash.createScript[url]){if(callback){callback.call(window)};return false;}else{cn.hash.createScript[url]=true;};head=document.getElementsByTagName("head")[0]||document.documentElement;script=document.createElement("script");if(scriptCharset){script.charset=scriptCharset;};script.src=url;var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;if(callback){callback.call(window)};script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script);}}};head.insertBefore(script,head.firstChild);};cn.getScript=function(url,data,callback,scriptCharset){if(typeof url==="string"){cn.createScript(url,data,callback,scriptCharset);}else{cn.hash.loadScriptArray=[];for(var i=0;i<url.length;i++){var currentURL=url[i];cn.createScript(currentURL,data,function(){cn.hash.loadScriptArray.push(currentURL);if(cn.hash.loadScriptArray.length==url.length){callback.call(window)};},scriptCharset);}};};window.cn=cn;})();