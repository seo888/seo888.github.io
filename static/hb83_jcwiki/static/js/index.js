!function e(t,s,i){function o(n,r){if(!s[n]){if(!t[n]){var l="function"==typeof require&&require;if(!r&&l)return l(n,!0);if(a)return a(n,!0);var d=new Error("Cannot find module '"+n+"'");throw d.code="MODULE_NOT_FOUND",d}var c=s[n]={exports:{}};t[n][0].call(c.exports,(function(e){return o(t[n][1][e]||e)}),c,c.exports,e,t,s,i)}return s[n].exports}for(var a="function"==typeof require&&require,n=0;n<i.length;n++)o(i[n]);return o}({1:[function(e,t,s){"use strict";e("./lib/modal"),e("./lib/member"),jQuery((function(e){e.fn.extend({loading:function(t){var s=e(this);t?s.addClass("loading").prepend('<i class="wpcom-icon wi wi-loader"><svg aria-hidden="true"><use xlink:href="#wi-loader"></use></svg></i>'):s.removeClass("loading").find(".wi-loader").remove()}}),window.wpcom_alert||(window.wpcom_alert=function(t,s){s=s||"\u63d0\u793a\u4fe1\u606f";var i=e("#wpcom-alert");if(i.length)i.find(".modal-title").html(s),i.find(".modal-body").html(t),i.modal("show");else{var o='<div class="modal fade modal-alert" id="wpcom-alert" data-backdrop="static">\n            <div class="modal-dialog modal-sm">\n                <div class="modal-content">                   <div class="modal-header"><div class="close" data-dismiss="modal" aria-label="Close"><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-close"></use></svg></i></div><h4 class="modal-title">'+s+'</h4></div>\n                   <div class="modal-body">'+t+'</div>\n                   <div class="modal-footer"><button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="Close">\u786e\u5b9a</button></div>                </div>\n            </div>\n        </div>';e("body").append(o)}e("#wpcom-alert").modal("show")}),e(document.body).on("click",".j-user-posts, .j-user-comments, .j-user-favorites, .j-user-follows, .j-user-followers",(function(){var t=e(this);if(!t.hasClass("disabled")&&!t.hasClass("loading")){var s=null,i=t.data("page");if(i=void 0!==i?i+1:2,t.hasClass("j-user-posts")){var o=e(".profile-posts-list").data("user");s={action:"wpcom_user_posts",user:o||0,page:i}}else if(t.hasClass("j-user-comments")){var a=e(".profile-comments-list").data("user");s={action:"wpcom_user_comments",user:a||0,page:i}}else if(t.hasClass("j-user-favorites")){var n=e(".profile-favorites-list").data("user");s={action:"wpcom_user_favorites",user:n||0,page:i}}else if(t.hasClass("j-user-follows")){var r=e(".profile-tab").data("user");s={action:"wpcom_user_follows",user:r||0,page:i}}else if(t.hasClass("j-user-followers")){var l=e(".profile-tab").data("user");s={action:"wpcom_user_followers",user:l||0,page:i}}return t.loading(1),e.ajax({type:"POST",url:_wpmx_js.ajaxurl,data:s,dataType:"html",success:function(s,o,a){if("0"==s){if(t.addClass("disabled").text(_wpmx_js.js_lang.page_loaded),t.hasClass("j-user-followers")){var n=t.closest(".profile-tab-content");n.find(".follow-items-loading").length&&(n.find(".follow-items-loading").remove(),n.find(".profile-no-content").show())}}else{var r=e(s);if(t.parent().prev().append(r),t.hasClass("j-user-follows"))e(document).trigger("check_follow");else if(t.hasClass("j-user-followers")){var l=t.closest(".profile-tab-content");l.find(".follow-items-loading").remove(),l.find(".follow-items").show(),"0"!==a.getResponseHeader("Next-page")&&l.find(".load-more-wrap").show(),e(document).trigger("check_follow")}"undefined"!=typeof _wpcom_js&&e.fn.lazyload&&function(e){if(e.length){var t=void 0!==_wpcom_js.webp&&_wpcom_js.webp?_wpcom_js.webp:null;if(e.eq(0).is("img"))e.eq(0).one("load",(function(){e.lazyload({webp:t})}));else{var s=document.createElement("img"),i=window.getComputedStyle(e[0]).getPropertyValue("background-image");i?(s.src=i.slice(4,-1).replace(/['"]/g,""),s.onload=function(){e.lazyload({webp:t})}):setTimeout((function(){s.onload=function(){e.lazyload({webp:t})}}),300)}}}(r.find(".j-lazy")),t.data("page",i),e(window).trigger("scroll")}t.loading(0)},error:function(){t.loading(0)}}),!1}}))}))},{"./lib/member":2,"./lib/modal":3}],2:[function(e,t,s){"use strict";jQuery((function(e){function t(e,t){var s=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=(e&&e.split("?")[1]?e.split("?")[1]:"").match(s);return null!=i?unescape(i[2]):null}var s,i,o=0;e(document).on("click",".edit-avatar, .edit-cover",(function(t){t.preventDefault(),o=e(this).hasClass("edit-cover")?1:0,i=e(this).data("user");var a=cropperModal({lg:o,title:_wpmx_js.cropper.title,desc:o?_wpmx_js.cropper.desc_1:_wpmx_js.cropper.desc_0,btn:_wpmx_js.cropper.btn,loading:_wpmx_js.cropper.loading,apply:_wpmx_js.cropper.apply,cancel:_wpmx_js.cropper.cancel});e("#crop-modal").length?e("#crop-modal").replaceWith(a):e("body").append(a),s&&(s.destroy(),s=null,e(".crop-img-wrap").hide(),e(".crop-img-btn").show(),e("#crop-img").remove(),e(".crop-notice").text("")),e("#crop-modal").modal("show")})).on("change","#img-file",(function(t){if(e(".crop-notice").text(""),!this.files.length)return!1;var i;if(this.files[0].size/1024>5120)return wpcom_alert(_wpmx_js.cropper.alert_size),!1;this.files[0].type.match(/image.*/)?(i=window.URL.createObjectURL(this.files[0]),e(".crop-img-wrap").append('<img id="crop-img" src="'+i+'">').show(),e(".crop-img-btn").hide(),s=new Cropper(document.getElementById("crop-img"),{aspectRatio:o?2.7:1,minContainerHeight:300,viewMode:o?3:1,ready:function(){var e={width:300,height:300};o&&(e={width:810,height:300,left:44}),s.setCropBoxData(e)}}),e(this).val("")):wpcom_alert(_wpmx_js.cropper.alert_filetype)})).on("click",".j-crop-close",(function(){s&&s.destroy(),s=null,e(".crop-img-wrap").hide(),e(".crop-img-btn").show(),e("#crop-img").remove(),e(".crop-notice").text("")})).on("click",".j-crop-apply",(function(){var t=e(this);t.loading(1);var a=e(".crop-notice");if(a.text(""),s)if(s.crop().cropped){var n={minWidth:200,minHeight:200,maxWidth:600,maxHeight:600,fillColor:"#fff",imageSmoothingQuality:"high"};o&&(n={minWidth:810,minHeight:300,maxWidth:1620,maxHeight:600,fillColor:"#fff",imageSmoothingQuality:"high"});var r=e.extend(s.getCropBoxData(),n),l=s.getCroppedCanvas(r).toDataURL("image/jpeg",.95);if(l){var d=new FormData;d.append("action","wpcom_cropped_upload"),d.append("nonce",e("#wpcom_cropper_nonce").val()),d.append("image",l),d.append("type",o),i&&d.append("user",i),e.ajax(_wpmx_js.ajaxurl,{type:"POST",data:d,dataType:"json",processData:!1,contentType:!1,success:function(s){"1"==s.result?(o?e(".wpcom-profile-head .wpcom-ph-bg img").attr("src",s.url):e(".member-account-avatar img.avatar,.wpcom-ph-avatar img.avatar,#j-user-wrap img.avatar").replaceWith('<img class="avatar photo" src="'+s.url+"?t="+Date.parse(new Date)/1e3+'">'),e("#crop-modal").modal("hide")):"-1"==s.result?a.text(_wpmx_js.cropper.err_nonce):"-2"==s.result?a.text(_wpmx_js.cropper.err_fail):"-3"==s.result&&a.text(_wpmx_js.cropper.err_login),t.loading(0)},error:function(){wpcom_alert(_wpmx_js.cropper.ajaxerr),t.loading(0)}})}else t.loading(0)}else t.loading(0);else a.text(_wpmx_js.cropper.err_empty),t.loading(0)})).on("click",".j-social-unbind",(function(){var t=e(this);if(t.hasClass("disabled"))return!1;var s=t.data("name");t.addClass("disabled").text("\u5904\u7406\u4e2d..."),confirm("\u662f\u5426\u786e\u5b9a\u89e3\u9664\u7ed1\u5b9a\uff1f")?e.ajax({type:"POST",url:_wpmx_js.ajaxurl,data:{action:"wpcom_social_unbind",name:s},dataType:"json",success:function(e){t.removeClass("disabled").text("\u89e3\u9664\u7ed1\u5b9a"),1==e.result?(wpcom_alert("\u89e3\u7ed1\u6210\u529f\uff01"),t.parent().html(e.error)):e.error&&wpcom_alert(e.error)},error:function(){t.removeClass("disabled").text("\u89e3\u9664\u7ed1\u5b9a")}}):t.removeClass("disabled").text("\u89e3\u9664\u7ed1\u5b9a")})).on("click","a",(function(s){var i=e(this).attr("href"),o=i?i.match(/(\?|&)modal-type=(login|register)/i):null;if(o&&o[2]){if(e("body.navbar-on").length)return;s.preventDefault(),s.stopPropagation();var a=e("#login-form-modal");0===a.length&&(jQuery(document.body).append('<div class="modal modal-login fade" id="login-form-modal" data-backdrop="static">\n            <div class="modal-dialog">\n                <div class="modal-content"><div class="close" data-dismiss="modal" aria-label="Close"><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-close"></use></svg></i></div>\n                    <div class="modal-body"></div>\n                </div>\n            </div>\n        </div>'),a=jQuery("#login-form-modal")),e("#login-modal").length&&e("#login-modal").modal("hide");var n=a.find(".modal-body");n.html('<i class="wpcom-icon wi wpcom-icon-loader"><svg aria-hidden="true"><use xlink:href="#wi-loader"></use></svg></i>'),a.modal("show");var r=t(i,"approve"),l={action:"wpcom_login_modal",type:o[2]};return r&&(l.approve=r,l.login=t(i,"login")),e.ajax({type:"POST",url:_wpmx_js.ajaxurl,data:l,dataType:"html",success:function(t){"undefined"==typeof is_load_login?e.getScript(_wpmx_js.plugin_url+"js/login.js",(function(){n.html(t),e(document).trigger("init_captcha")})):(n.html(t),e(document).trigger("init_captcha")),setTimeout((function(){e.fn.tooltip&&n.find('[data-toggle="tooltip"]').tooltip()}),1e3)},error:function(){}}),!1}})).on("click",".member-form-tab a",(function(t){t.preventDefault();var s=e(this);if(s.closest("li").hasClass("active"))return!1;var i=s.closest("ul"),o=i.closest(".member-form-inner"),a=s.data("type"),n=e("#j-tpl-login"+("2"==a?"2":"")).html();n&&(o.find(".member-form-items").html(n),i.find("li").removeClass("active"),s.closest("li").addClass("active"),a=a?0:1,e(document).trigger("init_captcha"))})).on("click",".show-password",(function(){var t=e(this);t.hasClass("active")?(t.html('<i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-eye-off-fill"></use></svg></i>').removeClass("active"),t.parent().find("input").attr("type","password")):(t.html('<i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-eye-fill"></use></svg></i>').addClass("active"),t.parent().find("input").attr("type","text"))})).on("wpcom_not_login",(function(){!function(){if(0===jQuery("#login-modal").length){var e=_wpmx_js.login_url,t=_wpmx_js.register_url,s='<div class="modal fade" id="login-modal">\n    <div class="modal-dialog modal-sm">\n        <div class="modal-content">\n            <div class="modal-header">\n                <div class="close" data-dismiss="modal" aria-label="Close"><i class="wpcom-icon wi"><svg aria-hidden="true"><use xlink:href="#wi-close"></use></svg></i></div>\n                <h4 class="modal-title">'+_wpmx_js.js_lang.login_title+'</h4>\n            </div>\n            <div class="modal-body">\n                <p>'+_wpmx_js.js_lang.login_desc+'</p>\n            </div>\n           <div class="modal-footer">\n                    <a class="btn btn-primary" href="'+e+'">'+_wpmx_js.js_lang.login_btn+'</a>\n                    <a class="btn" href="'+t+'">'+_wpmx_js.js_lang.reg_btn+"</a>\n                </div>\n        </div>\n    </div>\n</div>";jQuery("body").append(s)}}()}));var a=e("#j-user-wrap");a.length&&e.ajax({type:"POST",url:_wpmx_js.ajaxurl,data:{action:"wpcom_is_login"},dataType:"json",success:function(t){if(0==t.result){var s=0;t.messages&&(s=Number(t.messages)),t.notifications&&(s+=Number(t.notifications));var i='<ul class="profile"><li class="menu-item dropdown"><a class="menu-item-user" href="'+(t.account?t.account:t.url)+'"><span class="menu-item-avatar">'+t.avatar+(s?'<span class="menu-item-unread">'+s+"</span>":"")+'</span><span class="menu-item-name">'+t.display_name+"</span></a>",o=e(".header .navbar-toggle");if(s&&o.length&&o.append('<span class="navbar-unread">'+s+"</span>"),t.menus&&t.menus.length){i+='<ul class="dropdown-menu">';for(var n=0;n<t.menus.length;n++)i+='<li><a href="'+t.menus[n].url+'">'+t.menus[n].title+"</a></li>";i+="</ul>"}i+="</li></ul>",a.html(i),window.is_login=!0,e(document).trigger("wpcom_login")}else a.find(".login").addClass("cur"),window.is_login=!1,e(document).trigger("wpcom_not_login");e("header.header").trigger("DOMNodeInserted"),t.wc&&(t.wc.fragments&&t.wc.fragments["a.cart-contents"]&&e("header .shopping-cart").html(t.wc.fragments["a.cart-contents"]),setTimeout((function(){t.wc.fragments&&t.wc.fragments["div.widget_shopping_cart_content"]&&e("header .shopping-cart").append(t.wc.fragments["div.widget_shopping_cart_content"]),e("header.header").trigger("DOMNodeInserted")}),100)),e(document).trigger("wpcom_login_checked")}}),e(".social-login-wrap").on("submit","#sl-form-create",(function(){var t=e(this);if(t.find(".sl-input-submit.disabled").length)return!1;t.find(".sl-input-submit").addClass("disabled");for(var s=0,i=t.find(".sl-input input.require"),o=0;o<i.length;o++){var a=e(i[o]).val();""==e.trim(a)&&(e(i[o]).addClass("error"),s=1)}return s?t.find(".sl-input-submit").removeClass("disabled"):e.ajax({url:_wpmx_js.ajaxurl,data:e(this).serialize()+"&action=wpcom_sl_login",type:"POST",dataType:"json",success:function(e){t.find(".sl-input-submit").removeClass("disabled"),"-1"==e?t.find(".sl-result").text("\u8bf7\u6c42\u51fa\u9519\uff0c\u8bf7\u91cd\u8bd5\uff01").addClass("error"):"1"==e.result?t.find(".sl-result").text("\u7528\u6237\u540d\u6216\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a").addClass("error"):"2"==e.result?t.find(".sl-result").text("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef").addClass("error"):"3"==e.result?t.find(".sl-result").text("\u7b2c\u4e09\u65b9\u5e94\u7528\u6388\u6743\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5").addClass("error"):"4"==e.result?t.find(".sl-result").text("\u7b2c\u4e09\u65b9\u5e10\u53f7\u5df2\u4e0e\u672c\u7ad9\u5176\u4ed6\u5e10\u53f7\u7ed1\u5b9a").addClass("error"):"0"==e.result&&(t.find(".sl-result").text("\u7ed1\u5b9a\u6210\u529f\uff01").removeClass("error"),setTimeout((function(){window.location.href=e.redirect}),100))},error:function(e){t.find(".sl-result").text("\u8bf7\u6c42\u51fa\u9519\uff0c\u8bf7\u91cd\u8bd5\uff01").addClass("error"),t.find(".sl-input-submit").removeClass("disabled")}}),!1})).on("submit","#sl-form-bind",(function(){var t=e(this);if(t.find(".sl-input-submit.disabled").length)return!1;t.find(".sl-input-submit").addClass("disabled");for(var s=0,i=t.find(".sl-input input.require"),o=0;o<i.length;o++){var a=e(i[o]).val();""==e.trim(a)&&(e(i[o]).addClass("error"),s=1)}return s?t.find(".sl-input-submit").removeClass("disabled"):e.ajax({url:_wpmx_js.ajaxurl,data:e(this).serialize()+"&action=wpcom_sl_create",type:"POST",dataType:"json",success:function(e){"-1"==e?t.find(".sl-result").text("\u8bf7\u6c42\u51fa\u9519\uff0c\u8bf7\u91cd\u8bd5\uff01").addClass("error"):"1"==e.result?t.find(".sl-result").text("\u8bf7\u8f93\u5165\u7535\u5b50\u90ae\u7bb1").addClass("error"):"2"==e.result?t.find(".sl-result").text("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7535\u5b50\u90ae\u7bb1").addClass("error"):"3"==e.result?t.find(".sl-result").text("\u7b2c\u4e09\u65b9\u5e94\u7528\u6388\u6743\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5").addClass("error"):"4"==e.result?t.find(".sl-result").text("\u7b2c\u4e09\u65b9\u5e10\u53f7\u5df2\u4e0e\u672c\u7ad9\u5176\u4ed6\u5e10\u53f7\u7ed1\u5b9a").addClass("error"):"5"==e.result?t.find(".sl-result").text("\u8be5\u90ae\u7bb1\u5df2\u88ab\u6ce8\u518c").addClass("error"):"0"==e.result?(t.find(".sl-result").text("\u6ce8\u518c\u6210\u529f\uff01").removeClass("error"),setTimeout((function(){window.location.href=e.redirect}),100)):e.result&&e.msg&&t.find(".sl-result").text(e.msg).addClass("error"),t.find(".sl-input-submit").removeClass("disabled")},error:function(e){t.find(".sl-result").text("\u8bf7\u6c42\u51fa\u9519\uff0c\u8bf7\u91cd\u8bd5\uff01").addClass("error"),t.find(".sl-input-submit").removeClass("disabled")}}),!1})).on("input change",".sl-input input",(function(){var t=e(this);t.removeClass("error"),t.closest(".sl-info-form").find(".sl-result").text("")})).on("click",".sl-form-title",(function(){var t=e(this).closest(".sl-form-item");e(".sl-form-item").removeClass("active"),t.addClass("active")}))}))},{}],3:[function(e,t,s){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t=function(t,s){this.options=s,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};function s(s,o){return this.each((function(){var a=e(this),n=a.data("bs.modal"),r=e.extend({},t.DEFAULTS,a.data(),"object"==i(s)&&s);n||a.data("bs.modal",n=new t(this,r)),"string"==typeof s?n[s](o):r.show&&n.show(o)}))}if(t.VERSION="3.4.1",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(s){var i=this,o=e.Event("show.bs.modal",{relatedTarget:s});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",(function(){i.$element.one("mouseup.dismiss.bs.modal",(function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)}))})),this.backdrop((function(){var o=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var a=e.Event("shown.bs.modal",{relatedTarget:s});o?i.$dialog.one("bsTransitionEnd",(function(){i.$element.trigger("focus").trigger(a)})).emulateTransitionEnd(t.TRANSITION_DURATION):i.$element.trigger("focus").trigger(a)})))},t.prototype.hide=function(s){s&&s.preventDefault(),s=e.Event("hide.bs.modal"),this.$element.trigger(s),this.isShown&&!s.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")}))},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(s){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=e.support.transition&&o;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy((function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())}),this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!s)return;a?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):s()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var n=function(){i.removeBackdrop(),s&&s()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else s&&s()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||0;var s=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("--scrollbar-width",t+s+"px"),e(this.fixedContent).each((function(t,i){var o=i.style.paddingRight,a=e(i).css("padding-right");e(i).data("padding-right",o).css("padding-right",parseFloat(a)+s+"px")})))},t.prototype.resetScrollbar=function(){this.$body.css("--scrollbar-width",this.originalBodyPad+"px"),e(this.fixedContent).each((function(t,s){var i=e(s).data("padding-right");e(s).removeData("padding-right"),s.style.paddingRight=i||""}))},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t},void 0===e.fn.modal||"undefined"==typeof _wpcom_js){var o=e.fn.modal;e.fn.modal=s,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=o,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var i=e(this),o=i.attr("href"),a=i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,""),n=e(document).find(a),r=n.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},n.data(),i.data());i.is("a")&&t.preventDefault(),n.one("show.bs.modal",(function(e){e.isDefaultPrevented()||n.one("hidden.bs.modal",(function(){i.is(":visible")&&i.trigger("focus")}))})),s.call(n,r,this)}))}}(jQuery)},{}]},{},[1]);