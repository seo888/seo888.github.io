!function(n,o){function e(n,o){return l.cleanObj.toString.call(n).slice(8,-1)===o}function t(n){var o=p[n];if(o)return o.exports;throw"module "+n+" is undefined"}function i(n,o){for(var e,i,r=n.split(":"),a=r.pop().split("/"),s=l;e=a.shift();)"bdbox"!==e&&(i=e,a.length&&(s=s[e]=s[e]||{}));var c=p[n]={exports:{}},u=l.isFunction(o)?o.apply(c,[t,c.exports,c,l]):o;
u&&(c.exports=u),s[i]=c.exports}function r(){f.forEach(function(n){n()}),f.length=0,b=!0}function a(n){var o;return null==n?o=String(n):(o=Object.prototype.toString.call(n).toLowerCase(),o=o.substring(8,o.length-1)),o}function s(o){var e=o.success||x,t={imageUrl:"",mediaType:"all",title:"",content:"",linkUrl:location.href},i=o.error||x;
return l.isFunction(o.success)&&(e="_xSHARE_SUCCESS_"+l.getId(),n[e]=o.success,t.success=e),l.isFunction(o.error)&&(i="_xSHARE_FAIL_"+l.getId(),n[i]=o.error,t.error=i),l.each(o,function(n,e){"success"!==e&&"error"!==e&&(e in h?e=h[e]:"content"!==e||o.title||(t.title=n),t[e]=n)}),l.isArray(t.mediaType)&&(t.mediaType="all"),n.BoxShareData||(n.BoxShareData={successcallback:e,errorcallback:i,options:t}),t
}var c=+new Date,u=(c+"").slice(-3),d=navigator.userAgent,l={isBoxApp:function(n){return n=n||"",/ baiduboxapp\//i.test(d)===!1?!1:d.indexOf(n+" baiduboxapp")<0?!1:!0},isBox:/ baiduboxapp\//i.test(d)&&!/ (lite|info|mission) baiduboxapp/.test(d),$isBox:function(){var o=n.navigator||{},e=o.userAgent;return/ baiduboxapp\//i.test(e)&&!/ (lite|info|mission) baiduboxapp/.test(e)
},isLiteBox:/ (lite|info) baiduboxapp\//i.test(d),$isLiteBox:function(){var o=n.navigator||{},e=o.userAgent;return/ (lite|info) baiduboxapp\//i.test(e)},isMissionBox:/ mission baiduboxapp\//i.test(d),$isMissionBox:function(){var o=n.navigator||{},e=o.userAgent;return/ mission baiduboxapp\//i.test(e)},isInfoBox:/ info baiduboxapp\//i.test(d),$isInfoBox:function(){var o=n.navigator||{},e=o.userAgent;
return/ info baiduboxapp\//i.test(e)},isProBox:/ pro baiduboxapp\//i.test(d),$isProBox:function(){var o=n.navigator||{},e=o.userAgent;return/ pro baiduboxapp\//i.test(e)},isIOS:/(iPhone|iPod|iPad)/.test(d),$isIOS:function(){var o=n.navigator||{};return/(iPhone|iPod|iPad)/.test(o.userAgent)},isAndroid:/(Android);?[\s\/]+([\d.]+)?/.test(d),$isAndroid:function(){var o=n.navigator||{};
return/(Android);?[\s\/]+([\d.]+)?/.test(o.userAgent)},getId:function(){return u++},emptyArr:[],emptyFn:function(){},cleanObj:{},byId:function(n){return l.isString(n)?o.getElementById(n):n},toArray:function(n){return l.emptyArr.slice.call(n)},$:function(n,e){return e=e&&1===e.nodeType?e:o,l.toArray(e.querySelectorAll(n))
}};"Function,String,Array,Number,RegExp".replace(/[^, ]+/g,function(n){l["is"+n]=function(o){return e(o,n)}}),l.isBoolean=function(n){return n===!0||n===!1},l.isObject=function(n){return"object"==typeof n},l.isUndefined=function(n){return void 0===n},l.isWindow=function(n){return null!=n&&n==n.window
},l.isPlainObject=function(n){return l.isObject(n)&&!l.isWindow(n)&&Object.getPrototypeOf(n)==Object.prototype};var p={};l.define=i;var m=function(n,o,e){for(var t,i,r=n.split("."),a=e||m;t=r.shift();)"Box"!==t&&(i=t,r.length&&(a=a[t]=a[t]||{}));return a[i]=o||{},a[i]},f=[],b=!1;m.init=function(n){return"function"!=typeof n?this:(b?n():f.push(n),this)
},"complete,loaded,interactive".indexOf(o.readyState)>-1&&o.body?r():o.addEventListener("DOMContentLoaded",r,!1),i("common:bdbox/utils/getVersion",function(o,e,t,i){var r=function(){var o=0;if(n.baiduboxapp_version)o=n.baiduboxapp_version;else if(i.$isBox()){var e,t=navigator.userAgent;(e=/([\d+.]+)_(?:diordna|enohpi)_/.exec(t))?(e=e[1].split("."),o=e.reverse().join(".")):(e=/baiduboxapp\/([\d+.]+)/.exec(t))&&(o=e[1])
}return r=function(){return o},o};t.exports=r}),i("common:bdbox/utils/getLiteVersion",function(n,o,e,t){var i=function(){var n=0;if(t.$isLiteBox()){var o,e=navigator.userAgent;(o=/baiduboxapp\/([\d+.]+)/.exec(e))&&(n=o[1])}return i=function(){return n},n};e.exports=i}),i("common:bdbox/utils/version_compare",function(n,o,e){var t=function(n,o){o+="",n+="";
for(var e=n.split("."),t=o.split("."),i=0,r=Math.max(e.length,t.length);r>i;i++){if(e[i]&&!t[i]&&parseInt(e[i])>0||parseInt(e[i])>parseInt(t[i]))return 1;if(t[i]&&!e[i]&&parseInt(t[i])>0||parseInt(e[i])<parseInt(t[i]))return-1}return 0};e.exports=t}),i("common:bdbox/ios/invokeApp",function(e,t,i,r){i.exports=function(e,t,i){if(e&&(r.$isBox()||r.$isLiteBox()||r.$isMissionBox())){var a=[];
if(r.isFunction(t))i=t;else for(var s in t)a.push(s+"="+t[s]);if(r.isFunction(i)){var c="_bdbox_js_"+r.getId();n[c]=function(){i.apply(n,[].slice.call(arguments,0))},a.push("func="+c)}else i&&a.push("func="+i);a="baiduboxapp://"+e+"?"+a.join("&");var u=o.createElement("iframe");u.style.display="none",u.src=a;
var d=o.body||o.getElementsByTagName("body")[0];d.appendChild(u),setTimeout(function(){d.removeChild(u),u=null},0)}}}),i("common:bdbox/invoke/newInvoke",function(e,t,i,r){var a=e("common:bdbox/utils/version_compare"),s=e("common:bdbox/utils/getVersion");i.exports=function(e,t,i){if(e&&(r.$isBox()||r.$isLiteBox()||r.$isMissionBox())){var c,u=[];
if(r.isFunction(t))i=t;else for(var d in t)u.push(d+"="+t[d]);if(r.isFunction(i)){var l="_bdbox_js_"+r.getId();n[l]=function(){i.apply(n,[].slice.call(arguments,0))},u.push("callback="+l)}else i&&u.push("callback="+i);if(c="baiduboxapp://"+e+"?"+u.join("&"),"v17/feed/imageCache"===e&&r.$isIOS())return void n.webkit.messageHandlers.BBALandingPageJSBridge.postMessage(c);
var p=s(),m=n.Bdbox_android_jsbridge;if(r.$isAndroid()&&a(p,"9.0")>=0||r.$isAndroid()&&r.isLiteBox&&r.isMissionBox)return void(m&&m.dispatch?m.dispatch(c):n.prompt("BdboxApp:"+JSON.stringify({obj:"Bdbox_android_jsbridge",func:"dispatch",args:[c]})));var f=o.createElement("iframe");f.style.display="none",f.src=c;
var b=o.body||o.getElementsByTagName("body")[0];b.appendChild(f),setTimeout(function(){b.removeChild(f),f=null},0)}}}),i("common:bdbox/android/invokeApp",function(o,e,t,i){function r(o,e,t){if(t&&!i.isArray(t)&&(t=Array.prototype.slice.call(arguments,0).slice(2)),n[o]&&n[o][e]){var r=n[o][e].apply(n[o],t);
return{error:0,result:r,__from:"js"}}var u=c();if(s(u,4.8)>=0||i.$isLiteBox()||i.$isMissionBox()){var d=a(o,e,t);return d=d?JSON.parse(d):{},d.__from="app",d}if("4.7.1"===u||"4.7"==u){var l=a(o,e,t);return{error:0,result:l,__from:"app4.7"}}return{error:200}}function a(o,e,t){if(!(i.$isBox()||i.$isLiteBox()||i.$isMissionBox()))return{error:201};
if(!i.$isAndroid())return{error:202};var r={obj:o,func:e,args:t?t:[]};try{return n.prompt("BdboxApp:"+JSON.stringify(r))}catch(a){return{error:201}}}var s=o("common:bdbox/utils/version_compare"),c=o("common:bdbox/utils/getVersion");o("common:bdbox/utils/getLiteVersion"),t.exports=r}),i("common:bdbox/android/invokeLiteApp",function(o,e,t,i){function r(n,o,e){if(e&&!i.isArray(e)&&(e=Array.prototype.slice.call(arguments,0).slice(2)),!i.$isLiteBox()||!i.$isAndroid())return{error:201};
var t=a(n,o,e);return t=t?JSON.parse(t):{},t.__from="liteApp",t}function a(o,e,t){var i={obj:o,func:e,args:t?t:[]};try{return n.prompt("BdboxApp:"+JSON.stringify(i))}catch(r){return{error:201}}}t.exports=r}),i("common:bdbox/utils/detect",function(o,e,t,i){function r(o){var e={name:"unknown",version:0};
this===n||this.os||(this.os=e),o=o||navigator.userAgent;var t={Weibo:/weibo/i,Wechat:/micromessenger\//i,QQ:/QQ\//};for(var i in t)t.hasOwnProperty(i)&&(e["is"+i]=t[i].test(o));e.isUC=o.match(/UC/)||n.ucweb||n.ucbrowser;var r=o.match(/Windows Phone ([\d.]+)/);if(r)return e.win10=!0,e.version=r[1],e.name="win10",e;
var a=o.match(/(Android);?\s+([\d.]+)?/);if(a)return e.android=!0,e.version=a[2],e.name="android",e;var s=o.match(/(iPad).*OS\s([\d_]+)/),c=o.match(/(iPod)(.*OS\s([\d_]+))?/),u=!s&&o.match(/(iPhone\sOS)\s([\d_]+)/);return u&&!c?(e.ios=e.iphone=!0,e.version=u[2].replace(/_/g,"."),e.name="ios",e):s?(e.ios=e.ipad=!0,e.name="ios",e.version=s[2].replace(/_/g,"."),e):c?(e.name="ios",e.ios=e.ipod=!0,e.version=c[3]?c[3].replace(/_/g,"."):null,e):e
}r.apply(i),t.exports=r}),i("common:bdbox/each",function(n,o,e){function t(n){var o;return null==n?o=String(n):(o=Object.prototype.toString.call(n).toLowerCase(),o=o.substring(8,o.length-1)),o}e.exports=function(n,o,e){if("object"==typeof n){var i,r,a=t(n);if(e=e||n,"array"===a||"arguments"===a||"nodelist"===a){for(i=0,r=n.length;r>i;i++)if(o.call(e,n[i],i,n)===!1)return
}else for(i in n)if(n.hasOwnProperty(i)&&o.call(e,n[i],i,n)===!1)return}}}),i("common:bdbox/client/nativeShare",function(e,t,i,r){function a(o){var e={wechatIcon:location.protocol+"//m.baidu.com/static/search/logo300.png",type:"url",mediaType:"all",linkUrl:location.href,title:c.title,success:"console.log",error:"console.log"};
r.each(o||{},function(n,o){e[o]=n}),e.image&&(e.imageUrl=e.image),e.iconUrl&&!e.imageUrl&&"url"===e.type&&(e.imageUrl=e.iconUrl);var t={};["success","error"].forEach(function(o){var i=o;r.isFunction(e[o])&&(i="_xSHARE_SUCCESS_"+r.getId(),n[i]=e[o]),t[o+"callback"]=i,delete e[o]}),t.options=e,t.options.imageUrl&&r.$isAndroid()&&s(r.version,"6.5")<0&&delete t.options.imageUrl,n.BoxShareData=t;
var i=e.wechatIcon;if(/micromessenger\//i.test(navigator.userAgent)&&i&&i.length>20){var a=c.createElement("div");a.id="wa-generalevent-wx-logo",a.style.display="none",a.innerHTML='<img src="'+i+'"/>';var u=c.body.firstChild;u?c.body.insertBefore(a,u):c.body.appendChild(a)}}var s=e("common:bdbox/utils/version_compare"),c=o;
i.exports=a}),i("common:bdbox/utils/ready",function(n,e,t){function i(){a.forEach(function(n){n()}),a.length=0,s=!0}function r(n){"function"==typeof n&&(s?n():a.push(n))}var a=[],s=!1;"complete,loaded,interactive".indexOf(o.readyState)>-1&&o.body?i():o.addEventListener("DOMContentLoaded",i,!1),t.exports=r
});if(l.version=l.utils.getVersion(),l.version_compare=l.utils.version_compare,each=l.each,l.nativeShare=l.client.nativeShare,l.type=a,l.canI=function(n,o,e){return l.version_compare(l.version,n)>=0?l.isFunction(o)&&o():l.isFunction(e)&&e(),l},i("common:bdbox/client/o2o",function(n,o,e,t){var i=n("common:bdbox/android/invokeApp"),r=n("common:bdbox/ios/invokeApp"),a=encodeURIComponent,s=n("common:bdbox/each"),c=t.$isAndroid()?function(n,o){t.isObject(n)&&(o=n,n=n.url,delete o.url);
var e=["S.bdsb_light_start_url="+a(n)];if(t.isObject(o)){var r=o.min_v;delete o.min_v;var c={color:"i.extra_actionbar_color_id",appid:"S.bdsb_wallet_appid"};s(o,function(n,o){"color"===o&&(n=4278190080|parseInt("0x"+n)),o=c[o]||o,e.push(o+"="+n)})}e=e.join(";");var u={intent:"intent:#Intent;"+e+";end",min_v:r&&""!=r?r:"16783629",mode:"0"};
o&&o.component&&""!=o.component||(u["class"]="com.baidu.searchbox.wallet.WalletServiceActivity"),i("Bdbox_android_utils","command",[JSON.stringify(u)])}:function(n,o){t.isObject(n)&&(o=n,n=n.url,delete o.url);var e={openurl:a(n),minver:"5.3.0.0",isla:0,opentype:1,append:0,rbtnstyle:2};if(t.isObject(o)){var i={color:"barcolor"};
s(o,function(n,o){o=i[o]||o,e[o]=n})}e.appid&&(e.isla=1),r("easybrowse",e)};e.exports=c}),l.o2o=l.client.o2o,"android"===l.os.name?m("card",{query:function(n,o){if(m.version_compare(m.version,"5.0")<0)return this;var e,t;m.isArray(n)?e=[JSON.stringify(n)]:(t=m.toArray(arguments),o=t.pop(),m.isFunction(o)?e=t:(e=m.toArray(arguments),o=null),e=[JSON.stringify(e)]);
var i=m.android.invokeApp("Bdbox_android_card","mquery",e);return i=0===i.error&&i.result?JSON.parse(i.result):!1,m.isFunction(o)&&o(i),i},add:function(o,e){if(m.version_compare(m.version,"5.0")<0)return this;var t,i;m.isString(o)?t=[o]:m.isArray(o)?t=[JSON.stringify(o)]:(i=m.toArray(arguments),e=i.pop(),m.isFunction(e)?t=i:(t=m.toArray(arguments),e=null),t=[JSON.stringify(t)]);
var r=null;if(m.version_compare(m.version,"5.5")>=0){var a="";m.isFunction(e)&&(a="__box_card_"+m.getId(),n[a]=function(n){var o=JSON.parse(n),t=!1;for(var i in o){t=o[i].st;break}e(t)}),r=m.android.invokeApp("Bdbox_android_card","madd",t.concat([a,0]))}else r=m.android.invokeApp("Bdbox_android_card","madd",t);
return r}}):m("card",{query:function(n,o){if(m.version_compare(m.version,"5.0")<0)return this;var e,t;m.isArray(n)?e=[JSON.stringify(n)]:(t=m.toArray(arguments),o=t.pop(),m.isFunction(o)?e=t:(e=m.toArray(arguments),o=null),e=[JSON.stringify(e)]);var i=function(n){m.isFunction(o)&&o(JSON.parse(n)),i=null
};m.ios.invokeApp("cardMquery",{params:encodeURIComponent(e)},i)},add:function(n,o){if(m.version_compare(m.version,"5.0")<0)return this;var e,t;m.isString(n)?e=[n]:m.isArray(n)?e=[JSON.stringify(n)]:(t=m.toArray(arguments),o=t.pop(),m.isFunction(o)?e=t:(e=m.toArray(arguments),o=null),e=[JSON.stringify(e)]);
var i=function(n){var e=JSON.parse(n),t=!1;for(var r in e){t=e[r].st;break}m.isFunction(o)&&o(t),i=null};return m.ios.invokeApp("cardMadd",{params:encodeURIComponent(e),gohome:"0"},i),!0}}),i("common:bdbox/utils/jsonToQuery",function(n,o,e,t){e.exports=function(n){if(t.isString(n))return n;var o=[];for(var e in n)o.push(e+"="+n[e]);
return o.join("&")}}),i("common:bdbox/io/loadJS",function(e,t,i,r){function a(e,t,i){var a,d,l,p=o.createElement("script");r.isString(e)?(a=e,r.isFunction(t)&&(i=t,t=null)):(a=e.url,t=e.data,i=e.success,d=e.error||r.emptyFn,l=e.timeout),r.isObject(t)&&(t=c(t)),t&&(a+=(-1===a.indexOf("?")?"?":"&")+t),a=a.replace(/[&?]{1,2}/,"?");
var m;/=\?/.test(a)&&(m="_box_jsonp"+r.getId(),a=a.replace(/=\?/,"="+m));var f=s();l=l||2e4,p.type="text/javascript",p.src=a;var b,v=!0,h=function(o){m&&(o?n[m]=u:delete n[m]),b&&clearTimeout(b),p.onload=p.onreadystatechange=p.onerror=null,p=null},x=function(){!p||p.readyState&&!/loaded|complete/.test(p.readyState)||(h(),v&&r.isFunction(i)&&i.apply(null,r.toArray(arguments)),v=!1)
},g=function(n){h(),v&&d(n),v=!1};m&&(n[m]=x),b=setTimeout(function(){h(!0),v&&d("timeout"),v=!1},l),p.onload=p.onreadystatechange=p.onerror=x,p.onerror=g,f.appendChild(p)}function s(){return o.head||o.getElementsByTagName("head")[0]||o.documentElement}var c=e("common:bdbox/utils/jsonToQuery"),u=r.emptyFn;
i.exports=a}),i("common:bdbox/utils/queryToJson",function(n,o,e){e.exports=function(n){var o=n.split("?"),e=o[1]?o[1]:o[0],t=e.split("&"),i={};return t.forEach(function(n){if(n=n.split("="),n[0].length>0){var o="";try{o=decodeURIComponent(n[1])||""}catch(e){}i[n[0]]=o}}),i}}),i("common:bdbox/extend",function(n,o,e,t){function i(n,o,e){for(var t in o)e&&(r(o[t])||a(o[t]))?(r(o[t])&&!r(n[t])&&(n[t]={}),a(o[t])&&!a(n[t])&&(n[t]=[]),i(n[t],o[t],e)):c(o[t])||(n[t]=o[t])
}var r=t.isPlainObject,a=t.isArray,s=t.isBoolean,c=t.isUndefined;e.exports=function(n){var o,e=t.emptyArr.slice.call(arguments,1);return s(n)&&(o=n,n=e.shift()),e.forEach(function(e){i(n,e,o)}),n}}),i("common:bdbox/utils/ready",function(n,e,t){function i(){a.forEach(function(n){n()}),a.length=0,s=!0}function r(n){"function"==typeof n&&(s?n():a.push(n))
}var a=[],s=!1;"complete,loaded,interactive".indexOf(o.readyState)>-1&&o.body?i():o.addEventListener("DOMContentLoaded",i,!1),t.exports=r}),i("common:bdbox/utils/detect",function(o,e,t,i){function r(o){var e={name:"unknown",version:0};this===n||this.os||(this.os=e),o=o||navigator.userAgent;var t={Weibo:/weibo/i,Wechat:/micromessenger\//i,QQ:/QQ\//};
for(var i in t)t.hasOwnProperty(i)&&(e["is"+i]=t[i].test(o));e.isUC=o.match(/UC/)||n.ucweb||n.ucbrowser;var r=o.match(/Windows Phone ([\d.]+)/);if(r)return e.win10=!0,e.version=r[1],e.name="win10",e;var a=o.match(/(Android);?\s+([\d.]+)?/);if(a)return e.android=!0,e.version=a[2],e.name="android",e;var s=o.match(/(iPad).*OS\s([\d_]+)/),c=o.match(/(iPod)(.*OS\s([\d_]+))?/),u=!s&&o.match(/(iPhone\sOS)\s([\d_]+)/);
return u&&!c?(e.ios=e.iphone=!0,e.version=u[2].replace(/_/g,"."),e.name="ios",e):s?(e.ios=e.ipad=!0,e.name="ios",e.version=s[2].replace(/_/g,"."),e):c?(e.name="ios",e.ios=e.ipod=!0,e.version=c[3]?c[3].replace(/_/g,"."):null,e):e}r.apply(i),t.exports=r}),i("common:bdbox/schema",function(n,e,t,i){function r(n,e){if(!n)return void e(!0);
if(e=e||i.emptyFn,!i.$isBox()&&i.$isIOS()&&c(s.version,"9.0")>=0)return void u(function(){a(n,e)});var t=Date.now(),r=o.createElement("IFRAME");r.src=n,r.style.position="absolute",r.style.left="-2000px",r.style.top="-1000px",r.style.width="1px",r.style.height="1px",r.style.webkitTransition="all 0.9s",r.style.transition="all 0.9s",o.body.appendChild(r);
var d=function(){o.body.removeChild(r),e(Date.now()-t<1500?!0:!1)};r.addEventListener("webkitTransitionEnd",d,!1),r.addEventListener("transitionEnd",d,!1),setTimeout(function(){r.style.left="-1000px"},20)}function a(n,o){location.href=n,d&&clearTimeout(d),d=setTimeout(function(){o(!0)},3e3)}var s=n("common:bdbox/utils/detect")(),c=n("common:bdbox/utils/version_compare"),u=n("common:bdbox/utils/ready"),d=null;
t.exports=r}),i("common:bdbox/monitor",function(o,e,t,i){var r=encodeURIComponent,a=function(n,o){n+=n.indexOf("?")<0?"?":"&",this.url=n,this.options=o};a.prototype.report=function(o,e){var t=!1;o=o||"";var a=new Image(1,1),s=[];if(i.isObject(o)){for(var c in o)s.push(c+"="+r(String(o[c])));o=s.join("&")
}var u="_box_mt"+i.getId();n[u]=a,a.onload=a.onerror=a.onabort=function(){e&&"function"==typeof e&&!t&&(t=!0,e()),a.onload=a.onerror=a.onabort=null,n[u]=a=null};var d=this.url+o;return i.isFunction(this.options.customHandler)&&(d=this.options.customHandler(d)),a.src=d+"&_rnd="+Math.floor(2147483648*Math.random()),setTimeout(function(){e&&"function"==typeof e&&!t&&(t=!0,e())
},100),this},a.prototype.main=function(n,o){return n&&i.isFunction(this[n])&&this[n].apply(this,i.toArray(o||[])),this},t.exports=function(n,o){return new a(n,o)}}),i("common:bdbox/clone",function(n,o,e){var t=Object.prototype.toString,i=function(n,o,e){var t=0;for(var i in n)if(n.hasOwnProperty(i))if(e)o[i]=n[i];
else if(o(i,n[i],t++))break},r=function(n){var o;switch(t.call(n)){case"[object Object]":o={},i(n,function(n,e){o[n]=r(e)});break;case"[object Array]":o=[],n.forEach(function(n){o.push(r(n))});break;default:o=n}return o};e.exports=r}),i("common:bdbox/monitor/pblog",function(o,e,t,i){var r=o("common:bdbox/monitor"),a=o("common:bdbox/extend"),s=o("common:bdbox/utils/queryToJson"),c=o("common:bdbox/utils/getVersion"),u=o("common:bdbox/clone"),d=s(location.search),l=navigator.userAgent,p=n.location.protocol;
"http:"!==p&&(p="https:");var m=p+"//m.baidu.com/tcbox",f={service:"bdbox",action:"pblog",ctv:2,cen:"uid_ua_ut",data:{appid:"1",dataid:"2",actiontype:"1",actionid:"2",actiondata:{ref:d.ref||"",gmv:d.vmgdb||"",source:d.from||d.ref||"",boxVersion:c(),boxPlatform:l.match(/(iPad|iPhone|iPod)/gim)?"ios":"android"}}},b=encodeURIComponent;
d.uid&&d.osname&&["osname","ua","ut","from","cfrom","uid","pkgname"].forEach(function(n){d[n]&&(f[n]=d[n])});var v,h=r(m,{customHandler:function(n){var o=[];if(v)for(var e in v)if(v.hasOwnProperty(e)){var t=v[e];i.isPlainObject(t)&&(t=JSON.stringify(t)),o.push(e+"="+b(t))}return o.length&&(n+=o.join("&")),n
}});h.init=function(n,o){i.isPlainObject(o)&&(f=a(f,o)),f.data.cateid=n},h.pv=function(n,o){v=u(f);var e=v.data;e.actionid="1";var t={};return t.url=n||location.href,o&&(t.u=o),e.actiondata=a(e.actiondata,t),h.report()},h.event=function(n,o,e,t,r){if(!n)throw"monitor.tc.event need a evtName";if(i.isPlainObject(o)&&!e){var s={evtName:n};
for(var c in o)s[c]=o[c]}else var s={evtName:n,evtType:o||"",evtTag:e||""};v=u(f);var d=v.data;return d.actionid="2",t&&(v.data.cateid=t),d.actiondata=a(d.actiondata,s),h.report(null,r)},h.newEvent=function(n,o,e){v=u(f);var t=v.data;return t.actionid="2",o&&(v.data.cateid=o),t.actiondata=a(t.actiondata,n),h.report(null,e)
},t.exports=function(){h.main.apply(h,arguments)}}),i("common:bdbox/moplus",function(n,o,e,t){var i=(n("common:bdbox/utils/jsonToQuery"),n("common:bdbox/io/loadJS"),n("common:bdbox/utils/version_compare"),n("common:bdbox/monitor/pblog")),r=n("common:bdbox/schema"),a="com.baidu.searchbox",s="http://127.0.0.1:6259/",c="http://127.0.0.1:40310/",u="inapp_boxserver",d="https:"===location.protocol,l={isSendPv:!1,isHit:!1,parseUA:function(){var n,o,e=navigator.userAgent,t={uc:/UCBrowser\/(\S*) \S*/g,bd:/baidubrowser\/(\S*) \(Baidu/g,qq:/MQQBrowser\/(\S*) Mobile/g,chr:/Chrome\/(\S*) Mobile/g,qh:/360 Aphone Browser \((\S*)\)/g,sg:/SogouMobileBrowser\/(\S*)/g,mi:/MiuiBrowser\/(\S*)/g};
for(var i in t){var r=t[i].exec(e);if(r){n=i,o=r[1];break}}return n=n?n:"other",o=o?o:"0",{t:n,v:o}},parseHost:function(){return p.curHost===c?1:0},sendEvt:function(n,o,e,t){this.isHit&&this.send(n,o,e,t)},send:function(n,o,e,t){var r=this.parseUA(),a=r.t,s=r.v,c=d?0:1,u=this.parseHost();i("event",[n,{evtType:o||"",brName:a,brVer:s,isHttp:c,isNew:u,source:e||"",intent:t||""}])
},init:function(){this.isHit=Date.now()%100===1,i("init",[2])}},p=function(n,o,e){this.version="2.0",this.isHttps=d,this.curHost=e||"",this.newHost=c,this.oldHost=this.isHttps?c:s,this.MCMDF=o||u,this._infoFuncs=[],this._verFuncs=[],this.minVersion=n?n:0,this.pkgName=a,l.init()};p.prototype={constructor:p,setMcmdf:function(n){return this.MCMDF=n,this
},setHost:function(){return this},getHost:function(){},api:function(n,o,e){return e({error:233}),this},getInfo:function(n){return n({error:233}),this},getHVersion:function(n){return n({error:233}),this},parseInfo:function(){return!1},schema:function(n,o){if(!n.intent)throw"schema intent is empty";n.mcmdf||(n.mcmdf=this.MCMDF);
var e=function(){l.sendEvt("schema","success",n.source,n.intent),t.isFunction(o)&&o({error:0,from:"schema"})},i=function(){l.sendEvt("schema","fail",n.source,n.intent),t.isFunction(o)&&o({error:20,from:"schema"})},s=n.schema||"";if(n.intent&&!n.schema){var c=n.intent;-1==c.indexOf(a)&&(l.sendEvt("defaultPKGName","fail",n.source||"",n.intent),n.minver=n.minver?n.minver:"6.9.1")
}s||(s="baiduboxapp://utils?action=sendIntent&params="+encodeURIComponent(JSON.stringify(n))+"&minver="+(n.minver?n.minver:"6.9")),r(s,function(n){n?i():e()})},sendIntent:function(n,o){return o({error:233}),this},request:function(n,o){return o({error:233}),this}},e.exports=function(n,o){return new p(n,o)
},e.exports.Moplus=p}),l.version_compare(l.version,"5.3.5")>=0||l.$isLiteBox()){var v,h={image:"imageUrl",url:"linkUrl",order:"mediaType"},x="";n[x]=l.emptyFn,l.isAndroid?(v=function(n){if(n.id&&l.byId(n.id)){var o=n.eventType||"touchstart";l.byId(n.id).addEventListener(o,function(){e(n)},!0)}var e=function(o){o=s(o||n);
var e=o.error,t=o.success;o.iconUrl&&o.imageUrl&&delete o.imageUrl,l.android.invokeApp("Bdbox_android_utils","callShare",[JSON.stringify(o),t||"console.log",e||"console.log"])};return e},m("share",v)):(v=function(n){if(n.id&&l.byId(n.id)){var o=n.eventType||"touchstart";l.byId(n.id).addEventListener(o,function(){e(n)
},!0)}var e=function(o){o=s(o||n);var e=o.error,t=o.success;o.iconUrl&&!o.imageUrl&&(o.imageUrl=o.iconUrl),o=JSON.stringify(o),l.ios.invokeApp("callShare",{options:encodeURIComponent(o),errorcallback:e||"console.log",successcallback:t||"console.log"})};return e},m("share",v))}else{var g=[],y=function(){m._socShare&&m._socShare.init?g.forEach(function(n){m._socShare.init(n)
}):setTimeout(y,3e3)};l.io.loadJS("//m.baidu.com/static/searchbox/openjs/share.js?v=1.2",y);var _={source:"client_id",id:"dom_id",image:"pic_url",success:"afterRender"},v=function(n){var o={content:"",client_id:"ZVEpDSsmZ0qxa1gmgDAh1Fje",theme:"native",dom_id:"share",animate:!0,pic_url:"",url:encodeURIComponent(location.href)};
return l.isObject(n)&&l.each(n,function(n,e){if(e in _&&(e=_[e]),"order"===e&&l.isArray(n)){var t=[];n.forEach(function(n){"email"===n&&(n="mail"),t.push(n)})}o[e]=n}),delete o.success,delete o.error,delete o.afterRender,"all"===o.order?o.order=["qqdenglu","sinaweibo","renren","kaixin","mail","sms"]:l.isString(o.order)&&(o.order=o.order.split(",")),m._socShare&&m._socShare.init?m._socShare.init(o):g.push(o),function(){m._socShare.ui._shareBtnClickHandler()
}};m("share",v)}if(i("common:bdbox/distribute",function(n,o,e,t){var i=n("common:bdbox/schema");n("common:bdbox/utils/detect");var r=n("common:bdbox/each"),a=n("common:bdbox/moplus"),s=t.emptyFn,c={qqDownloadUrl:"http://a.app.qq.com/o/simple.jsp?pkgname=com.baidu.searchbox",androidDownloadUrl:"",iosDownloadUrl:"",iosFailCallback:s,androidFailCallback:s,iosSchema:"",androidSchema:"",androidIntent:"",inBoxCallback:s},u=function(n){var o=this;
n&&r(c,function(o,e){n[e]=n[e]||o});var e=this.url=n.url;e&&""!==e?(this.androidIntent="intent://"+e.replace(/^http[s]?:\/\//,"")+"#Intent;scheme=http;action=com.baidu.searchbox.action.VIEW;category=android.intent.category.DEFAULT;end",this.iosSchema="baiduboxapp://easybrowse?openurl="+encodeURIComponent(e)+"&opentype=0&isla=0&append=0&minver=5.3.0.0"):["androidIntent","iosSchema","androidSchema"].forEach(function(e){o[e]=n[e]
}),this.options=n,this.fail=function(){if(console.log(t.os.name+" fail"),t.isFunction(n[t.os.name+"FailCallback"])){var o=n[t.os.name+"FailCallback"]();if(t.isBoolean(o)&&!o)return}var e=n[t.os.name+"DownloadUrl"];e&&""!==e&&(location.href=n[t.os.name+"DownloadUrl"])},this.success=function(){return console.log(t.os.name+" success"),t.isFunction(n[t.os.name+"SuccessCallback"])?n[t.os.name+"SuccessCallback"]():void 0
}};u.prototype.wechat=function(){var n=this.options;if(t.isFunction(n.wechatCallback)){var o=n.wechatCallback();if(t.isBoolean(o)&&!o)return}n.qqDownloadUrl&&""!==n.qqDownloadUrl&&(location.href=n.qqDownloadUrl)},u.prototype.run=function(){var n=this,o=(n.url,n.options);return t.os.isWechat?n.wechat():t.$isBox()&&t.isFunction(o.inBoxCallback)?o.inBoxCallback():void this.invoke()
},u.prototype.invoke=function(){var n=this;if(t.os.android){var o=a();o.getHVersion(function(e){e?o.sendIntent(n.androidIntent,function(o){0==o.error?n.success():n.fail()},1e3):n.androidSchema?i(n.androidSchema,function(o){o?n.fail():n.success()}):n.fail()})}else i(n.iosSchema,function(o){o?n.fail():n.success()
})},e.exports=function(n){return new u(n)}}),each(l,function(n,o){m[o]=n}),n.Box&&n.Box.$)for(var S in m)n.Box[S]=n.Box[S]||m[S];else n.Box=m}(window,document);