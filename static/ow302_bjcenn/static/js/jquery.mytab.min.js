(function ($) { $.fn.tab = function (options) { var defaultVal = { tabcContextClass: ".tabcContextClass", activeNum: 1, activeClass: "activeClass", more: "moreclass" }; var obj = $.extend(defaultVal, options); return this.each(function () { var curObject = $(this); var tabmainid = "#" + curObject.attr("id"); var contextclass = obj.tabcContextClass; var activeNum = obj.activeNum - 1; var activeClass = obj.activeClass; $(contextclass).css("display", "none"); $(contextclass).eq(activeNum).css("display", "block"); var taba = tabmainid + " a"; $(taba).eq(activeNum).addClass(activeClass); if (obj.more != "") { var more = "." + obj.more + " a"; $(more).css("display", "none"); $(more).eq(activeNum).css("display", "") } $(taba).hover(function () { var curindex = $(this).index(taba); $(contextclass).css("display", "none"); $(taba).removeClass(activeClass); $(contextclass).eq(curindex).css("display", "block"); $(contextclass).eq(curindex).find("img").lazyload(); $(taba).eq(curindex).addClass(activeClass); if (obj.more != "") { $(more).css("display", "none"); $(more).eq(curindex).css("display", "") } }, function () { }) }) } })(jQuery);