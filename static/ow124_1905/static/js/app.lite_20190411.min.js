(function(e,h){var d=Array.prototype,a=Date.prototype,c=Function.prototype,g=String.prototype,f=Object.prototype.hasOwnProperty;if(!d.indexOf){d.indexOf=function(l,k){var j=this.length;k=parseInt(k)||0;if(k<0){k+=j}for(;k<j;k++){if(this[k]===l){return k}}return -1}}if(!d.lastIndexOf){d.lastIndexOf=function(l,k){var j=this.length;k=parseInt(k)||j-1;if(k<0){k+=j}for(;k>=0;k--){if(this[k]===l){return k}}return -1}}if(!d.every){d.every=function(m,l){var j=this.length,k=0;for(;k<j;k++){if(!m.call(l,this[k],k,this)){return false}}return true}}if(!d.some){d.some=function(m,l){var j=this.length,k=0;for(;k<j;k++){if(m.call(l,this[k],k,this)){return true}}return false}}if(!d.forEach){d.forEach=function(m,l){var j=this.length,k=0;for(;k<j;k++){m.call(l,this[k],k,this)}}}if(!d.map){d.map=function(p,o){var l=this.length,k=[],n=0,m=0;for(;n<l;n++){k[m++]=p.call(o,this[n],n,this)}return k}}if(!d.filter){d.filter=function(q,p){var m=this.length,l=[],o=0,n=0,k;for(;o<m;o++){k=this[o];if(q.call(p,k,o,this)){l[n++]=k}}return l}}if(!d.reduce){d.reduce=function(m,k){var j=this.length,l=0;if(k===h){k=this[l++]}for(;l<j;l++){k=m(k,this[l],l,this)}return k}}if(!d.reduceRight){d.reduceRight=function(m,k){var j=this.length,l=j-1;if(k===h){k=this[l--]}for(;l>=0;l--){k=m(k,this[l],l,this)}return k}}if([].unshift(1)!==1){var b=d.unshift;d.unshift=function(){b.apply(this,arguments);return this.length}}if(!Date.now){Date.now=function(){return +new Date};a.getYear=function(){return this.getFullYear()-1900};a.setYear=function(i){return this.setFullYear(i)}}if(!c.bind){c.bind=function(l){if(arguments.length<2&&l===h){return this}var j=this,m=function(){},k=d.slice.call(arguments,1),i=function(){var n=k.concat.apply(k,arguments);l=this instanceof m&&l?this:l;return j.apply(l,n)};m.prototype=this.prototype;i.prototype=new m();return i}}if(!Object.keys){Object.keys=function(r){var q=!({toString:null}).propertyIsEnumerable("toString"),l=[],p=0,o=0,n,m,k;for(n in r){if(f.call(r,n)){l[o++]=n}}if(q){m="propertyIsEnumerable,isPrototypeOf,hasOwnProperty,toLocaleString,toString,valueOf,constructor".split(",");k=m.length;for(;p<k;p++){n=m[p];if(f.call(r,n)){l[o++]=n}}}return l}}if(!g.trim){g.trim=function(){var j=["\\s","00A0","1680","180E","2000-\\u200A","200B","2028","2029","202F","205F","3000"].join("\\u"),k=new RegExp("^["+j+"]"),i=new RegExp("["+j+"]$");return this.replace(k,"").replace(i,"")}}})(window);window.M1905=window.M1905||{};M1905.CONFIG={www_url:"https://"+window.location.host,img_url:"https://image11.m1905.cn/",phpcms_path:"/",cookie_pre:"WOlTvIlgRp",cookie_domain:".1905.com",cookie_path:"/"};M1905.guid=function(a){return(a||"mJS_")+(+new Date())+(Math.random()+"").slice(-8)};M1905.ui={};M1905.Util=M1905.fn={highlight:function(b,a,e){var d=new RegExp(b,"i");a.each(function(){var c=$(this).text().replace(d,'<b class="'+e+'">'+b+"</b>");$(this).html(c)})},cutStr:function(d,g){var c=/[^\x00-\xff]/g;if(d.replace(c,"mm").length<=g){return d}var a=Math.floor(g/2),f=arguments[2]||"";for(var b=a;b<d.length;b+=1){if(d.substr(0,b).replace(c,"mm").length>=g){return d.substr(0,b)+f}}return d},getRequest:function(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"),c=window.location.search.substr(1).match(b);return(c!=null)?unescape(c[2]):null},parseColor:function(a){var b,c;if(b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(a)){c=[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),1]}else{if(b=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(a)){c=[parseInt(b[1],16)*17,parseInt(b[2],16)*17,parseInt(b[3],16)*17,1]}else{if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a)){c=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3]),1]}else{if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(a)){c=[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(b[4])]}}}}return c},throttle:function(a,b){var c;return function(){var d=this,e=arguments;clearTimeout(c);c=setTimeout(function(){a.apply(d,e)},b)}},getcookie:function(d){d=M1905.CONFIG.cookie_pre+d;var b=d+"=";var f=b.length;var a=document.cookie.length;var e=0;while(e<a){var c=e+f;if(document.cookie.substring(e,c)==b){return M1905.Util.getcookieval(c)}e=document.cookie.indexOf(" ",e)+1;if(e==0){break}}return null},setcookie:function(c,d,g){c=M1905.CONFIG.cookie_pre+c;var f=arguments.length;var a=arguments;var e=(f>5)?a[5]:false;var b=new Date();if(g==null||g==0){g=1}b.setTime(b.getTime()+3600000*24*g);document.cookie=c+"="+escape(d)+("; path="+M1905.CONFIG.cookie_path)+((M1905.CONFIG.cookie_domain=="")?"":("; domain="+M1905.CONFIG.cookie_domain))+((e==true)?"; secure":"")+";expires="+b.toGMTString()},delcookie:function(a){var c=new Date();c.setTime(c.getTime()-1);var b=M1905.Util.getcookie(a);a=M1905.CONFIG.cookie_pre+a;document.cookie=a+"="+b+";expires="+c.toGMTString()},getcookieval:function(b){var a=document.cookie.indexOf(";",b);if(a==-1){a=document.cookie.length}return unescape(document.cookie.substring(b,a))},getStore:function(b){var a=store.get(b);if(a instanceof Array){return a}else{return new Array()}},favFilm:function(e){var c=100;var b=M1905.Util.getStore("m1905_favFilm"),a=b.length;for(var d=0;d<a;d++){if(b[d]==e){b.splice(d,1);break}}b.push(e);if(a>c-1){b.splice(0,a-c-1)}store.set("m1905_favFilm",b)},hateFilm:function(e){var b=100;var c=M1905.Util.getStore("m1905_hateFilm"),a=c.length;for(var d=0;d<a;d++){if(c[d]==e){c.splice(d,1);break}}c.push(e);if(a>b-1){c.splice(0,a-b-1)}store.set("m1905_hateFilm",c)},delFavFilm:function(d){var b=M1905.Util.getStore("m1905_favFilm"),a=b.length;for(var c=0;c<a;c++){if(b[c]==d){b.splice(c,1);break}}store.set("m1905_favFilm",b)},addFav:function(){var a=document.title,b=location.href;try{window.external.addFavorite(b,a)}catch(c){try{window.sidebar.addPanel(a,b,"")}catch(c){alert("请用CTRL+D手动添加收藏")}}},setHome:function(){var c=location.href;if(document.all){document.body.style.behavior="url(#default#homepage)";document.body.setHomePage(c)}else{if(window.sidebar){if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(b){alert("该操作被浏览器拒绝，如果想启用该功能，请在地址栏内输入 about:config,然后将项signed.applets.codebase_principal_support 值该为true")}}var a=Components.classes["@mozilla.org/preferences-service;1"].getService(Components.interfaces.nsIPrefBranch);a.setCharPref("browser.startup.homepage",c)}}},hash_contentid:function(e){var d=e.toString().split("").reverse(),a=Math.max(d.length,9),b=[],c=0;for(;c<a;c++){if(d[c]){b.push(d[c])}else{b.push("0")}if(c%2&&c<6){b.push("/")}}b=b.reverse().join("");return b},getClientWidth:function(){var b;if(window.innerWidth){b=window.innerWidth}else{if(document.body&&document.body.clientWidth){b=document.body.clientWidth}}if(document.documentElement&&document.documentElement.clientWidth){b=document.documentElement.clientWidth}return b},getClientHeight:function(){var b;if(window.innerHeight){b=window.innerHeight}else{if(document.body&&document.body.clientHeight){b=document.body.clientHeight}}if(document.documentElement&&document.documentElement.clientHeight){b=document.documentElement.clientHeight}return b},debouncer:function(a,b){var c,b=b||200;return function(){var e=this,d=arguments;clearTimeout(c);c=setTimeout(function(){a.apply(e,Array.prototype.slice.call(d))},b)}},create_iframe:function(b,d,g,a,i){var j=$(document.createElement("IFRAME"));j.attr("src",a);j.attr("frameborder",0);j.attr("marginwidth",0);j.attr("marginheight",0);j.attr("scrolling","no");j.css({width:g+"px",height:d+"px",border:"none"});var f=/msie/.test(navigator.userAgent.toLowerCase()),e={$iframe:j,msie:f,count:0},c=$("#"+b);j.appendTo(c);j.on("load",e,function(h){if(0==h.data.count){h.data.$iframe.attr("src",a);++h.data.count;return}if(null==h.data.$iframe.attr("src")){h.data.$iframe.removeAttr("src");h.data.$iframe.remove();if(h.data.msie){CollectGarbage()}h.data.$popupdlg.wijdialog("close");return}i&&i(c,j)})},window_open:function(a){if(a&&$.type(a)==="string"){window.open(a)}else{if(a&&$.isFunction(a)){var b=window.open();a(b)}}},href_concat:function(){var a=$("a[data-hrefexp]");if(a.length>0){a.each(function(){var c=$(this).attr("href"),b=$(this).data("hrefexp"),d=c.indexOf("?"),e=c.indexOf("fr=");if(e>=0){}else{if(d>=0){d+=1;c=c.substring(0,d)+b+"&"+c.substring(d)}else{d=c.indexOf("#");if(d>=0){c=c.substring(0,d)+"?"+b+c.substring(d)}else{c+=("?"+b)}}$(this).attr("href",c)}})}},isMobile:function(){for(var f=window.navigator.userAgent,a=["iPad","Android","iPhone","iPod"],i=!1,h=0,g=a.length;h<g;h++){if(-1!==f.indexOf(a[h])){i=!0;break}}return i},isPhone:function(){var b=window.navigator.userAgent,a=/Mobile(\/|\s)/.test(b);return/(iPhone|iPod)/.test(b)||(!/(Silk)/.test(b)&&(/(Android)/.test(b)&&(/(Android 2)/.test(b)||a)))||(/(BlackBerry|BB)/.test(b)&&a)||/(Windows Phone)/.test(b)},isTablet:function(){var a=window.navigator.userAgent;return !M1905.Util.isPhone(a)&&(/iPad/.test(a)||/Android|Silk/.test(a)||/(RIM Tablet OS)/.test(a)||(/MSIE 10/.test(a)&&/; Touch/.test(a)))},template:function(b,c){var a;return b.replace(/#\{(.+?)\}/ig,function(){var e=arguments[1].replace(/\s/ig,"");var d=arguments[0];var f=e.split("||");for(a=0,len=f.length;a<len;a+=1){if(/^default:.*$/.test(f[a])){d=f[a].replace(/^default:/,"");break}else{if(c[f[a]]!==undefined){d=c[f[a]];break}}}return d})},dfdKeyword:function(){var b=$.Deferred();var a=new Date(),c=a.getFullYear()+((a.getMonth()+1)<10?"0":"")+(a.getMonth()+1)+(a.getDate()<10?"0":"")+a.getDate()+(a.getHours()<10?"0":"")+a.getHours()+(a.getMinutes()<10?"0":"")+a.getMinutes();$.ajax({type:"GET",url:"https://www.1905.com/coll/hotsearch.js?t="+c,dataType:"jsonp",jsonpCallback:"hotsearch",cache:true,success:function(f){var e='<li class="hd">最近热门</li>';sugTpl='<li><a href="#{url}" target="_blank">#{title}</a></li>',$searchSug=$("#fix_q").children("ul")||"";$(".header").find('input[name="q"]').attr("placeholder",f[0].title);for(var d=0;d<f.length;d++){e+=M.fn.template(sugTpl,f[d])}if($searchSug.html()!=""){$searchSug.empty()}$(e).appendTo($searchSug);b.resolve()}});return b.promise()}};M1905.loadingAni={temp:'<div class="loading"></div>',addin:function(){$(this).hide();$(this).parent().append(M1905.loadingAni.temp)},remove:function(){$(this).siblings(".loading").remove();$(this).fadeIn(500)}};this.M&&$.extend(this.M,M1905);!function(b){b.fn.placeholder=function(){return this.each(function(){var e=b(this),d=e.closest("form"),c=e.text(),f=e.next("input");f.focus(function(){if(f.val()!==""){e.hide()}}).on("keydown paste",function(){e.hide()}).blur(function(){if(f.val()===""){e.show()}});e.click(function(){f.focus()});d.submit(function(){e.hide();!b.trim(f.val())&&f.val(c)}).get(0).onreset=function(){b(this).find("label.placeholder").show()}})};b("label.placeholder").placeholder();b.fn.srhfix=function(m){var c=b(this).find("input[name=q]"),g=b(this).find("input[name=fr]"),j=b(this).find("#fix_q"),i=b(this).find("#select_type"),k=j.children("ul").html();var e={search_url:b(this).data("srhurl")||"/search/?q=",fix_url:b(this).data("srhfix")||"/search/sg.php?q=",tmpl:b(this).find("#srhfix_tmpl").html()||'<li><a href="{surl}" target="_blank">{tag}</a></li>'};var l=b.extend({},e,m);c.closest("form").on("click",function(n){n.stopPropagation();n.cancelBubble=true});j.delegate("li[class!=hd]",{mouseenter:function(){b(this).addClass("select").siblings("li").removeClass("select")},click:function(){window.open(b(this).children("a").attr("href"));return false}});c.keydown(function(p){if(p.keyCode===38||p.keyCode===40){var o=j.find("li[class!=hd]"),n=j.find(".select");if(n.length==0){b(o[0]).addClass("select");c.val(b(o[0]).children("a").text())}else{switch(p.keyCode){case 38:var q=n.prev("li[class!=hd]"),q=q.length==0?o.last():q;break;case 40:var q=n.next("li[class!=hd]"),q=q.length==0?b(o[0]):q;break}b(q).addClass("select").siblings().removeClass("select");c.val(b(q).children("a").text())}}});var f={};c.keyup(function(p){if(p.keyCode===38||p.keyCode===40){return}var o=b.trim(c.val()),n=l.fix_url+encodeURIComponent(o)+(i.length?"&t="+i.val():"")+(g.length?"&fr="+b.trim(g.val()):"");if(o.length==0){j.children().empty();j.children().append(k);j.slideDown(120);return}if(f.hasOwnProperty(o)){h(f[o]);return}b.getJSON(n,function(q){if(q.length>0){h(q);f[o]=q}})});c.focus(function(){b(this).trigger("keyup")});b(document).on("click",function(){j.slideUp(200)});function h(n){j.children().empty();b.each(n,function(o,p){j.children().append(d(p,l.tmpl))});j.slideDown(120)}function d(o,n){parseHtml=n.replace(/\{(.+?)\}/gi,function(r,p){var q=r.replace("{","").replace("}","");if(q=="type"){return b(".search-select-name").text()}return o[q]});return parseHtml}};function a(){var d=b.Deferred();var c=new Date(),e=c.getFullYear()+((c.getMonth()+1)<10?"0":"")+(c.getMonth()+1)+(c.getDate()<10?"0":"")+c.getDate()+(c.getHours()<10?"0":"")+c.getHours()+(c.getMinutes()<10?"0":"")+c.getMinutes();b.ajax({type:"GET",url:"https://www.1905.com/coll/hotsearch2014.js?t="+e,dataType:"jsonp",jsonpCallback:"hotsearch2014",cache:true,success:function(f){b('.search_panel input[name="q"]').siblings(".placeholder").text(f[0].title);d.resolve()}});return d.promise()}a().done(function(){b(".search_panel, [data-srhfix]").srhfix()});b(document).on("click","[data-login]",function(){var d=b(this).data("login"),c=encodeURIComponent(location.href);d&&(window.location="https://openapi.passport.m1905.com/Login/Authorize/"+d+"/?ReturnUrl="+c);return false})}(window.jQuery);(function(){var d,c;jQuery.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}};d=jQuery.uaMatch(navigator.userAgent);c={};if(d.browser){c[d.browser]=true;c.version=d.version}if(c.chrome){c.webkit=true}else{if(c.webkit){c.safari=true}}jQuery.browser=c})();